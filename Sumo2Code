/*
   Christian Kuss, Reed Kellett, Julian Lechner, Stephen Zhou
   Blue Class MR - 11:45
   Defensive code for robot
*/

#include <Servo.h>                      //import the library for the motors
Servo rightMotor;                       //Initialize the right motor
Servo leftMotor;                        //Initialize the left motor
const int leftSensor = 11;              // Assign sensor pins
const int rightSensor = 10;
int lsensorState = 0;                   // Initialize sensor variable
int rsensorState = 0;                   //Initialize sensor variable

const int right_forward = 0;          //define each state of the motor for each motor
const int right_backward = 180;
const int left_forward = 180;
const int left_backward = 0;
const int stop_wheel = 90;
//this is a comment
void setup()
{
  pinMode(leftSensor, INPUT);         // Declare sensor pins as input
  pinMode(rightSensor, INPUT);
  rightMotor.attach(12);              // setup servos
  leftMotor.attach(9);
  rightMotor.write(stop_wheel);      //make sure wheels are stopped
  leftMotor.write(stop_wheel);
}

void loop()
{

  lsensorState = digitalRead(leftSensor);
  rsensorState = digitalRead(rightSensor);
  toEdge();
}

void toEdge(){
  while(lsensorState == LOW && rsensorState == LOW){
     lsensorState = digitalRead(leftSensor);                             //read sensor each time so that it can exit the loop
     rsensorState = digitalRead(rightSensor);
     rightMotor.write(right_forward);                                    //move forward
     leftMotor.write(left_forward);
     delay(100);
  }
  turnAround();
}

void turnAround(){
  rightMotor.write(right_forward);
  leftMotor.write(left_backward);
  delay(1600);
}
//comment
